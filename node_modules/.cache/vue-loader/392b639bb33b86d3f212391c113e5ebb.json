{"remainingRequest":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\components\\PersonalInfo_collection.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\components\\PersonalInfo_collection.vue","mtime":1608362689090},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgRWxEaXZpZGVyIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL3BhY2thZ2VzL2RpdmlkZXIvc3JjL21haW4udnVlIjsKaW1wb3J0IEVsQXZhdGFyIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL3BhY2thZ2VzL2F2YXRhci9zcmMvbWFpbi52dWUiOwppbXBvcnQgRWxCdXR0b24gZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvYnV0dG9uL3NyYy9idXR0b24udnVlIjsKaW1wb3J0IEVsSW5wdXQgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvaW5wdXQvc3JjL2lucHV0LnZ1ZSI7CmltcG9ydCBFbExpbmsgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvbGluay9zcmMvbWFpbi52dWUiOwppbXBvcnQgRWxJY29uIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL3BhY2thZ2VzL2ljb24vc3JjL2ljb24udnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBFbEljb24sCiAgICAgICAgRWxMaW5rLAogICAgICAgIEVsSW5wdXQsCiAgICAgICAgRWxCdXR0b24sCiAgICAgICAgRWxBdmF0YXIsCiAgICAgICAgRWxEaXZpZGVyfSwKICAgIG5hbWU6ICdQZXJzb25hbEluZm9fY29sbGVjdGlvbicsCiAgICBwcm9wczogewogICAgICAgIG1zZzogU3RyaW5nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3RpdmVJbmRleDogJzEnLAogICAgICAgICAgICBzZWxlY3Q6MCwvL+mAieaLqeWIoOmZpOWTquS4gOS4quaWh+S7tuWkuQoKICAgICAgICAgICAgY29sbGVjdGlvbl9saXN0OltdLAogICAgICAgICAgICBwYXBlcl9saXN0OltdCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLnNob3dDb2xsZWN0aW9uKCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2hvd0NvbGxlY3Rpb24gKCkgewogICAgICAgICAgICBjb25zdCByZXM9IHRoaXMuJGF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDonZ2V0JywKICAgICAgICAgICAgICAgIHVybDonL3Nob3dkaXInCiAgICAgICAgICAgIH0pLmNhdGNoKGVycj0+e2NvbnNvbGUubG9nKGVycil9KQoKICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uX2xpc3QgPSByZXMuZGF0YQogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIH0sCiAgICAgICAgdG9JZGVudGlmeSgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgKICAgICAgICAgICAgICAgIHtwYXRoOiIiLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OnsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgaWQ6dGhpcy4kcm91dGUucXVlcnkuaWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQ29sbGVjdGlvbihpbmRleCl7CiAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruWumuWIoOmZpOivpeaWh+S7tuWkuT8nLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAvL3RoaXMuY29sbGVjdGlvbl9saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICAvL+S7jmNvbGxlY3Rpb25fbGlzdOmHjOWIoOmZpOivpeaWh+S7tuWkuQogICAgICAgICAgICAgICAgbGV0IHBvc3REYXRhID0gewogICAgICAgICAgICAgICAgICAgICdEaWQnOiB0aGlzLmNvbGxlY3Rpb25fbGlzdFtpbmRleF0uRGlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvZGlyL2RlbGV0ZScsIHBvc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvbGxlY3Rpb24oKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHZpZXdDb2xsZWN0aW9uKGlkKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoCiAgICAgICAgICAgICAgICB7cGF0aDonL3BhcGVyY29sbGVjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBpZDp0aGlzLiRyb3V0ZS5xdWVyeS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgRGlkOmlkLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvL+i3s+i9rOWIsOWvueW6lOaUtuiXj+WkuemhtQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgbmV3Q29sbGVjdGlvbigpIHsKICAgICAgICAgICAgYXdhaXQgdGhpcy4kcHJvbXB0KCfor7fovpPlhaXmlLbol4/lpLnlkI3np7AnLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcKICAgICAgICAgICAgfSkudGhlbihhc3luYyAoeyB2YWx1ZSB9KSA9PiB7CiAgICAgICAgICAgICAgICBpZighdmFsdWUpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlLbol4/lpLnlkI3kuI3og73kuLrnqbonKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXM9YXdhaXQgdGhpcy4kYXhpb3MoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOidwYXJhbXMnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6J3Bvc3QnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6Jy9tYWtlZGlyJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTp7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEbmFtZTp2YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyPT57Y29uc29sZS5sb2coZXJyKX0pCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQoKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDb2xsZWN0aW9uKCkKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5paw5bu65oiQ5YqfJwogICAgICAgICAgICAgICAgICAgIH0pO30KICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliJvlu7onCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCgoKICAgIH0KfQoK"},{"version":3,"sources":["PersonalInfo_collection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA","file":"PersonalInfo_collection.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <el-row>\r\n                <el-col :span=\"8\">\r\n                    <div><i class=\"el-icon-star-on\" style=\"color: gold;margin-left: 1%\"></i>我的收藏</div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div> </div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div>\r\n                        <el-button type=\"primary\" size=\"mini\" style=\"margin-left: 80%\" @click=\"newCollection\">新建文件夹</el-button>\r\n                    </div>\r\n                </el-col>\r\n\r\n            </el-row>\r\n\r\n\r\n            <el-divider></el-divider>\r\n            <div>\r\n                <div v-for=\"(item,index) in collection_list\" :key=\"item\" @click=\"viewCollection(item.Did)\" style=\"display: inline-block;width: 16%;margin-top: 10px\">\r\n                    <i class=\"el-icon-folder\" style=\"font-size: 80px;margin-left: 23%;color: gold\"></i>\r\n                    <div style=\"text-align: center\">\r\n                        {{item.name}}\r\n                    </div>\r\n\r\n                    <el-button slot=\"reference\" size=\"mini\" style=\"margin-left: 30%;margin-top: 5px\" @click=\"deleteCollection(index)\">删除</el-button>\r\n\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n\r\n    import ElDivider from \"../../node_modules/element-ui/packages/divider/src/main.vue\";\r\n    import ElAvatar from \"../../node_modules/element-ui/packages/avatar/src/main.vue\";\r\n    import ElButton from \"../../node_modules/element-ui/packages/button/src/button.vue\";\r\n    import ElInput from \"../../node_modules/element-ui/packages/input/src/input.vue\";\r\n    import ElLink from \"../../node_modules/element-ui/packages/link/src/main.vue\";\r\n    import ElIcon from \"../../node_modules/element-ui/packages/icon/src/icon.vue\";\r\n\r\n    export default {\r\n        components: {\r\n            ElIcon,\r\n            ElLink,\r\n            ElInput,\r\n            ElButton,\r\n            ElAvatar,\r\n            ElDivider},\r\n        name: 'PersonalInfo_collection',\r\n        props: {\r\n            msg: String\r\n        },\r\n        data() {\r\n            return {\r\n                activeIndex: '1',\r\n                select:0,//选择删除哪一个文件夹\r\n\r\n                collection_list:[],\r\n                paper_list:[]\r\n            }\r\n        },\r\n        created(){\r\n            this.showCollection()\r\n        },\r\n        methods: {\r\n            showCollection () {\r\n                const res= this.$axios({\r\n                    method:'get',\r\n                    url:'/showdir'\r\n                }).catch(err=>{console.log(err)})\r\n\r\n                this.collection_list = res.data\r\n                return 0\r\n            },\r\n            toIdentify(){\r\n                this.$router.replace(\r\n                    {path:\"\",\r\n                        query:{\r\n                            //       id:this.$route.query.id\r\n                        }\r\n                    })\r\n            },\r\n            deleteCollection(index){\r\n                this.$confirm('是否确定删除该文件夹?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    //this.collection_list.splice(index, 1);\r\n                    //从collection_list里删除该文件夹\r\n                    let postData = {\r\n                        'Did': this.collection_list[index].Did\r\n                    }\r\n                    this.$axios.post('/dir/delete', postData).then((response) => {\r\n                        this.showCollection()\r\n                    })\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消'\r\n                    });\r\n                });\r\n            },\r\n            viewCollection(id){\r\n                this.$router.replace(\r\n                    {path:'/papercollection',\r\n                        query:{\r\n                            //    id:this.$route.query.id,\r\n                            Did:id,\r\n                        }\r\n                    })\r\n\r\n                //跳转到对应收藏夹页\r\n            },\r\n            async newCollection() {\r\n                await this.$prompt('请输入收藏夹名称', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消'\r\n                }).then(async ({ value }) => {\r\n                    if(!value){\r\n                        alert('收藏夹名不能为空')\r\n                    }\r\n                    else{\r\n                        const res=await this.$axios({\r\n                            type:'params',\r\n                            method:'post',\r\n                            url:'/makedir',\r\n                            data:{\r\n                                Dname:value\r\n                            }\r\n                        }).catch(err=>{console.log(err)})\r\n                        console.log(res)\r\n\r\n                        this.showCollection()\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '新建成功'\r\n                        });}\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '取消创建'\r\n                    });\r\n                });\r\n            },\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"less\" scoped>\r\n    .el-divider--vertical{\r\n        height: 700px;\r\n    }\r\n    /* el-divider 修改高度&虚线效果 */\r\n    .el-divider--horizontal{\r\n        margin: 12px 3px;\r\n        border-top: 1px dashed #e8eaec;\r\n    }\r\n\r\n\r\n</style>\r\n"]}]}